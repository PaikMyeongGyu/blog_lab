> ### 목표 : Schedule을 통한 알람 닫기 기능 회고

과거에 일어났었던 문제는 Schedule을 발급할 때에 비동기로 발급을 하면 중복 발급이 되는 문제가 발생했었다.
또한, 팀원들과 함께 동일한 DB에 꽂았을 때에도 중복 발급이 발생했었다. 하나의 스케줄에 대해서 알람이 두 개 이상 옴.

전자는 문제의 원인이 뭔지 파악하지 못했고, 후자는 스케줄 코드는 운영서버와 별도로 분리를 해야 할 필요성에 관해서 느꼈다.

친구와 함께 논의를 해봤었는데, 스케줄로 만들어야 하는 게 뭐가 있을까에 대해서 몇 가지 생각을 해봤다.

> ### 마감 로직

마감과 같은 로직에 있어서 사용을 할 수 있다. 특히 이 때는 간격에 맞춰서 약간의 조정의 과정이 필요하다.
DB에서 인덱스를 타서 정확하게 해당 데이터만 읽어오기 위해서는 시간이라는 조건이 어떻게 보면 범위조건인데 해당 조건을 
평탄화 시켜서 Equal 조건으로 바꿔주는 과정이 필요하다. 

또한 이건 운영 중인 서버에 딱 1개만 있는 걸 보장을 해야 한다. 따라서, 이건 서버를 따로 분리하는 걸 생각해보아야 한다. 
그게 쉽지 않다면 profile을 둬서 운영 환경이 아닌 경우에는 동작하지 않도록 별도의 설정을 해주어야 한다.

> ### 캐시용 서버

반대로 캐시 웜업을 시켜야 하는 경우도 있다. 좌석이나 무언가 예약을 해야 하는 시스템의 경우에는 Redis 서버에 올려놔서
동시성 문제를 해결하려는 경우가 많다. 

이 때, 예약되지 않은 좌석 등의 정보를 올리는 방법이 있을 거 같은데 서버가 분리가 어려울 때, API로 올리자는 이야기를 했었다.
대신 권한 체크를 해주어서 해보자고 했는데 일단 이건 최근에 하고 있는 것이다보니 프로젝트가 끝나고 다시 고민을 해봐야 겠다.

> ### Async는 왜 Scheduler랑 같이 돌아가면 문제가 생길까?

해결해야 하는 문제임.